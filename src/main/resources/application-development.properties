# ===========================================
# DEVELOPMENT PROFILE CONFIGURATION
# ===========================================
# This profile uses H2 in-memory database for easy local development
# No external database setup required

# H2 Database Configuration (in-memory)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console Configuration
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=false

# JPA Configuration for Development
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

# Initialize data for development
spring.sql.init.mode=always
spring.sql.init.platform=h2

# Disable Flyway for development (use DDL auto-update instead)
spring.flyway.enabled=false

# Development Logging
logging.level.com.ecommerce.user=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Development JWT Settings
jwt.secret=development-secret-key-not-for-production
jwt.expiration=86400000

# CORS - Allow all origins in development
cors.allowed-origins=*

# Security Debug
security.debug=true

# ===========================================
# FEATURE TOGGLES - DEVELOPMENT
# ===========================================
# Authentication features
features.auth.mfa.enabled=${FEATURE_MFA_ENABLED:false}
features.auth.social-login.enabled=${FEATURE_SOCIAL_LOGIN_ENABLED:true}
features.auth.password-reset.enabled=${FEATURE_PASSWORD_RESET_ENABLED:true}
features.auth.rate-limiting.enabled=${FEATURE_RATE_LIMITING_ENABLED:false}

# Security features
features.security.audit-logging.enabled=${FEATURE_AUDIT_LOGGING_ENABLED:true}
features.security.session-management.enabled=${FEATURE_SESSION_MANAGEMENT_ENABLED:true}
features.security.csrf-protection.enabled=${FEATURE_CSRF_PROTECTION_ENABLED:false}

# Integration features
features.integration.kafka.enabled=${FEATURE_KAFKA_ENABLED:false}
features.integration.redis.enabled=${FEATURE_REDIS_ENABLED:false}
features.integration.email.enabled=${FEATURE_EMAIL_ENABLED:false}

# Monitoring features
features.monitoring.actuator.enabled=${FEATURE_ACTUATOR_ENABLED:true}
features.monitoring.metrics.enabled=${FEATURE_METRICS_ENABLED:true}
features.monitoring.health-checks.enabled=${FEATURE_HEALTH_CHECKS_ENABLED:true}

# Business features
features.business.gdpr-compliance.enabled=${FEATURE_GDPR_ENABLED:true}
features.business.user-analytics.enabled=${FEATURE_USER_ANALYTICS_ENABLED:false}
features.business.automated-cleanup.enabled=${FEATURE_AUTOMATED_CLEANUP_ENABLED:false}

# Development specific features
features.dev.mock-services.enabled=${FEATURE_MOCK_SERVICES_ENABLED:true}
features.dev.test-data.enabled=${FEATURE_TEST_DATA_ENABLED:true}
features.dev.swagger-ui.enabled=${FEATURE_SWAGGER_UI_ENABLED:true}

# ===========================================
# ACTUATOR CONFIGURATION - DEVELOPMENT
# ===========================================
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.endpoint.shutdown.enabled=true
management.endpoint.restart.enabled=true

# ===========================================
# SPRING BOOT DEVTOOLS
# ===========================================
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.add-properties=true

# ===========================================
# DEVELOPMENT SPECIFIC SETTINGS
# ===========================================
# Relaxed data binding
spring.main.allow-circular-references=true
server.error.include-stacktrace=always
server.error.include-message=always